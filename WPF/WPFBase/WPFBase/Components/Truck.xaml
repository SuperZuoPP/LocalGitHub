<local:ControlsBase
    x:Class="WPFBase.Components.Truck"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WPFBase.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <Border Name="frame" BorderThickness="1">
        <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center">
            <Canvas
                Width="205"
                Height="245"
                Margin="5">
                <Polygon Fill="#EEE" Points="0,65 40,10 205,10 180,65" />
                <Path
                    Canvas.Left="45"
                    Canvas.Top="15"
                    Data="M0 0A60 15 0 0 0 120 0L120 25A60 15 0 0 1 0 25">
                    <Path.Fill>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Offset="0" Color="#FFD6D6D6" />
                            <GradientStop Offset="0.519" Color="White" />
                            <GradientStop Offset="1" Color="#FFD6D6D6" />
                        </LinearGradientBrush>
                    </Path.Fill>
                </Path>
                <Ellipse
                    Canvas.Left="45"
                    Width="120"
                    Height="30"
                    Fill="#CCC" />
                <Border Canvas.Left="50" Canvas.Top="-40">
                    <Viewbox
                        Width="110"
                        Height="110"
                        RenderTransformOrigin="0.5,0.5">
                        <Viewbox.RenderTransform>
                            <TransformGroup>
                                <RotateTransform x:Name="rt" Angle="50" />
                                <ScaleTransform ScaleY="0.25" />
                            </TransformGroup>
                        </Viewbox.RenderTransform>
                        <Path
                            Width="861.82"
                            Height="805.22"
                            Data="M261.851429 528.822857c-43.885714-24.868571-84.845714-23.405714-121.417143 5.851429-35.108571 26.331429-49.737143 62.902857-43.885715 106.788571 5.851429 38.034286 19.017143 74.605714 40.96 108.251429 21.942857 35.108571 46.811429 59.977143 76.068572 74.605714 78.994286 40.96 147.748571 29.257143 207.725714-35.108571 19.017143-20.48 33.645714-43.885714 46.811429-73.142858 14.628571-32.182857 23.405714-61.44 24.868571-90.697142 0-14.628571 7.314286-21.942857 19.017143-21.942858s19.017143 5.851429 24.868571 16.091429c17.554286 51.2 14.628571 99.474286-10.24 143.36-24.868571 43.885714-21.942857 84.845714 4.388572 119.954286 26.331429 35.108571 62.902857 49.737143 106.788571 42.422857 38.034286-5.851429 74.605714-19.017143 108.251429-40.96 35.108571-21.942857 59.977143-46.811429 74.605714-76.068572 40.96-78.994286 29.257143-147.748571-36.571428-206.262857-20.48-19.017143-43.885714-35.108571-73.142858-48.274285-32.182857-14.628571-61.44-23.405714-90.697142-24.868572-14.628571 0-21.942857-7.314286-21.942858-19.017143s5.851429-20.48 17.554286-23.405714c20.48-7.314286 40.96-11.702857 62.902857-11.702857 27.794286 0 54.125714 7.314286 78.994286 20.48 43.885714 24.868571 84.845714 23.405714 121.417143-4.388572 35.108571-26.331429 49.737143-62.902857 43.885714-106.788571-5.851429-38.034286-19.017143-74.605714-40.96-108.251429-21.942857-35.108571-46.811429-59.977143-76.068571-74.605714-78.994286-40.96-147.748571-29.257143-207.725715 35.108572-19.017143 20.48-33.645714 45.348571-46.811428 73.142857-14.628571 32.182857-23.405714 62.902857-24.868572 90.697143 0 13.165714-7.314286 20.48-19.017142 21.942857s-20.48-5.851429-24.868572-16.091429c-7.314286-20.48-10.24-40.96-10.24-64.365714 0-27.794286 7.314286-54.125714 20.48-78.994286 24.868571-43.885714 21.942857-84.845714-4.388571-119.954286-26.331429-35.108571-61.44-49.737143-105.325715-43.885714-38.034286 5.851429-74.605714 19.017143-108.251428 40.96-35.108571 21.942857-59.977143 46.811429-76.068572 76.068572-40.96 78.994286-29.257143 147.748571 36.571429 207.725714 20.48 19.017143 45.348571 35.108571 73.142857 48.274286 32.182857 14.628571 61.44 21.942857 90.697143 23.405714 14.628571 0 21.942857 7.314286 21.942857 19.017143s-5.851429 20.48-17.554286 24.868571c-49.737143 17.554286-98.011429 14.628571-141.897142-10.24m279.405714-46.811428c8.777143 8.777143 11.702857 17.554286 11.702857 29.257142s-4.388571 21.942857-11.702857 30.72c-8.777143 7.314286-17.554286 11.702857-29.257143 11.702858s-21.942857-4.388571-30.72-11.702858c-8.777143-8.777143-11.702857-19.017143-11.702857-30.72s4.388571-21.942857 11.702857-29.257142c8.777143-8.777143 19.017143-13.165714 30.72-13.165715 11.702857 1.462857 20.48 4.388571 29.257143 13.165715z"
                            Fill="#EEE"
                            RenderTransformOrigin="0.367,1.252"
                            Stretch="Fill" />
                    </Viewbox>
                </Border>
                <Grid
                    Canvas.Top="65"
                    Width="180"
                    Height="180"
                    Background="LightGray">
                    <Border
                        Height="140"
                        VerticalAlignment="Top"
                        BorderThickness="10">
                        <Border.Background>
                            <DrawingBrush
                                TileMode="Tile"
                                Viewport="1,0,25,1"
                                ViewportUnits="Absolute">
                                <DrawingBrush.Drawing>
                                    <GeometryDrawing>
                                        <GeometryDrawing.Pen>
                                            <Pen Brush="#EEE" />
                                        </GeometryDrawing.Pen>
                                        <GeometryDrawing.Geometry>
                                            <PathGeometry>
                                                <PathFigure>
                                                    <LineSegment Point="10,0" />
                                                    <LineSegment Point="10,10" />
                                                </PathFigure>
                                            </PathGeometry>
                                        </GeometryDrawing.Geometry>
                                    </GeometryDrawing>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Border.Background>
                    </Border>
                    <Grid
                        Height="45"
                        Margin="5"
                        VerticalAlignment="Bottom">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border Margin="2" Background="#AAA" />
                        <Border
                            Grid.Column="1"
                            Margin="2"
                            Background="#AAA" />
                    </Grid>
                </Grid>

                <Grid
                    Canvas.Left="180"
                    Canvas.Top="65"
                    Width="180"
                    Height="180"
                    Background="LightGray">
                    <Grid.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleX="0.139" />
                            <SkewTransform AngleY="-65.5" />
                        </TransformGroup>
                    </Grid.RenderTransform>
                    <Border
                        Height="140"
                        VerticalAlignment="Top"
                        BorderThickness="10">
                        <Border.Background>
                            <DrawingBrush
                                TileMode="Tile"
                                Viewport="1,0,25,1"
                                ViewportUnits="Absolute">
                                <DrawingBrush.Drawing>
                                    <GeometryDrawing>
                                        <GeometryDrawing.Pen>
                                            <Pen Brush="#EEE" />
                                        </GeometryDrawing.Pen>
                                        <GeometryDrawing.Geometry>
                                            <PathGeometry>
                                                <PathFigure>
                                                    <LineSegment Point="10,0" />
                                                    <LineSegment Point="10,10" />
                                                </PathFigure>
                                            </PathGeometry>
                                        </GeometryDrawing.Geometry>
                                    </GeometryDrawing>
                                </DrawingBrush.Drawing>
                            </DrawingBrush>
                        </Border.Background>
                    </Border>
                    <Grid
                        Height="45"
                        Margin="5"
                        VerticalAlignment="Bottom">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border Margin="2" Background="#AAA" />
                        <Border
                            Grid.Column="1"
                            Margin="2"
                            Background="#AAA" />
                    </Grid>
                </Grid>

                <Border
                    Canvas.Left="150"
                    Canvas.Top="80"
                    Width="18"
                    Height="18"
                    CornerRadius="10">
                    <Border.Background>
                        <RadialGradientBrush>
                            <GradientStop x:Name="gsGreen" Offset="0.5" Color="Gray" />
                            <GradientStop Color="White" />
                        </RadialGradientBrush>
                    </Border.Background>
                </Border>

                <Border
                    Canvas.Left="150"
                    Canvas.Top="105"
                    Width="18"
                    Height="18"
                    CornerRadius="10">
                    <Border.Background>
                        <RadialGradientBrush>
                            <GradientStop x:Name="gsRed" Offset="0.5" Color="Gray" />
                            <GradientStop Color="White" />
                        </RadialGradientBrush>
                    </Border.Background>
                </Border>
            </Canvas>
        </Viewbox>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="SelectedState">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="frame" Storyboard.TargetProperty="(Border.BorderBrush)">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <SolidColorBrush Color="Orange" />
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="UnSelectedState" />
            </VisualStateGroup>
            <VisualStateGroup>
                <VisualState x:Name="RunState">
                    <Storyboard>
                        <DoubleAnimation
                            RepeatBehavior="Forever"
                            Storyboard.TargetName="rt"
                            Storyboard.TargetProperty="Angle"
                            From="0"
                            To="-360"
                            Duration="0:0:0.5" />
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="gsGreen" Storyboard.TargetProperty="Color">
                            <DiscreteColorKeyFrame KeyTime="0" Value="Green" />
                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="StopState" />
            </VisualStateGroup>
            <VisualStateGroup>
                <VisualState x:Name="FaultState">
                    <Storyboard>
                        <ColorAnimationUsingKeyFrames
                            RepeatBehavior="Forever"
                            Storyboard.TargetName="gsRed"
                            Storyboard.TargetProperty="Color">
                            <DiscreteColorKeyFrame KeyTime="0:0:0.5" Value="Red" />
                            <DiscreteColorKeyFrame KeyTime="0:0:1" Value="Gray" />

                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="NormalState" />
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Border>


</local:ControlsBase>
